export interface DocItem {
  id: string
  title: string
  summary: string
  details: string[]
}

export interface DocSection {
  id: string
  title: string
  items: DocItem[]
}

export const documentationSections: DocSection[] = [
  {
    id: 'basic',
    title: '基本操作',
    items: [
      {
        id: 'shortcuts',
        title: '快捷键',
        summary: '通过键盘快捷键可以更快地完成保存、搜索和错误定位等常用操作。',
        details: [
          '在编辑器中按 Ctrl+S 会保存当前正在编辑的文件。',
          'Ctrl+Z 撤销上一步编辑操作，Ctrl+Shift+Z 或 Ctrl+Y 用于重做。',
          'Ctrl+F 打开全局搜索面板，用于在当前项目或游戏目录中查找文本。',
          'Ctrl+E 跳转到下一个错误，Ctrl+R 跳转到上一个错误，方便在错误列表之间快速巡查。',
          'Ctrl+Shift+T 打开主题切换面板，可以快速切换界面和编辑器的配色主题。',
          '在编辑区域中，可以使用 Ctrl+C / Ctrl+X / Ctrl+V 进行复制、剪切和粘贴。',
          '在搜索结果列表中，可以用方向键选择条目，回车跳转到对应位置，Esc 关闭搜索面板。'
        ]
      },
      {
        id: 'theme-switch',
        title: '主题切换',
        summary: '支持多种界面主题，可以根据个人喜好自定义编辑器的配色方案。',
        details: [
          '在设置页面的"应用设置"区域，可以看到"界面主题"选项，点击不同的主题卡片即可切换。',
          '在编辑器中按 Ctrl+Shift+T 可以打开主题切换面板，快速在各个主题之间切换。',
          '内置 7 种主题：One Dark、One Light、VS Code Dark、GitHub Dark、Catppuccin Mocha、Dracula、Monokai。',
          '切换主题后会立即生效，同时自动保存到设置中，下次启动时会恢复上次选择的主题。',
          '主题切换会同时更新界面颜色和代码编辑器的语法高亮配色。'
        ]
      },
      {
        id: 'file-operations',
        title: '文件操作',
        summary: '项目文件和游戏文件分别通过左侧树形视图管理，支持多文件打开、保存和关闭。',
        details: [
          '在首页通过“创建新项目”“打开项目”或“最近项目”进入编辑器后，左侧会展示当前 Mod 的项目文件树。',
          '在项目文件树中点击文件即可在中间区域打开，支持同时打开多个文件并在不同文件之间快速切换。',
          '右键文件标签可以使用“关闭全部”“关闭其他”等操作，快速整理当前已打开的文件。',
          '在文件树上右键可以新建文件或文件夹、重命名、复制路径，或在系统资源管理器中打开所在位置。',
          '关闭文件时，如果存在未保存的修改，系统会询问是否放弃更改，避免误操作丢失内容。',
          '游戏目录面板中的文件以只读方式打开，只用于浏览原版内容，不会覆盖游戏本体文件。'
        ]
      },
      {
        id: 'auto-save',
        title: '自动保存',
        summary: '自动保存功能可以在编辑文件时自动保存更改，无需手动按 Ctrl+S。',
        details: [
          '在设置页面的"应用设置"区域，可以勾选"启用自动保存"复选框来启用或禁用此功能。',
          '在编辑器工具栏中也提供了自动保存切换按钮，按钮显示为绿色时表示已启用，灰色时表示已禁用。',
          '启用自动保存后，编辑文件时会在停止输入0.1秒后自动保存文件内容。',
          '自动保存使用防抖机制，连续输入时不会频繁保存，只在停止输入后才触发保存操作。',
          '文件修改后标签页上会显示红点标记，自动保存成功后红点会消失。',
          '自动保存设置会立即保存到配置文件中，重启应用后会保留上次的设置状态。',
          '游戏目录中的文件是只读的，不会被自动保存功能修改。'
        ]
      },
      {
        id: 'edit-operations',
        title: '编辑操作',
        summary: '编辑区基于现代代码编辑器，提供常见的文本编辑、右键菜单和多窗格查看能力。',
        details: [
          '编辑区支持常规的输入、选中、复制、剪切和粘贴操作，并可以配合键盘快捷键使用。',
          '在编辑区右键会弹出自定义菜单，可以执行复制、剪切、粘贴等操作，而不是浏览器默认菜单。',
          '当当前文件属于特定类型时，右键菜单中会出现"插入模板"子菜单，可以一键插入预设的脚本骨架，之后再根据需求修改内容。',
          '每个编辑窗格都可以通过右键菜单选择"向右分割"，在同一窗口中并排查看多个文件或预览视图。',
          '分割后的窗格可以通过"移动到"子菜单，将当前文件移动到其他窗格，便于组合不同的视图布局。'
        ]
      },
      {
        id: 'search-replace',
        title: '搜索替换',
        summary: '内置搜索面板支持在项目或游戏目录中快速查找文本。',
        details: [
          '在编辑器中按 Ctrl+F 即可打开全局搜索面板。',
          '搜索面板支持按关键字搜索，并可以切换是否区分大小写、是否使用正则表达式。',
          '可以在“项目文件”和“游戏目录”之间切换搜索范围，既能查 Mod，又能查原版脚本。',
          '搜索结果会按文件列出，显示匹配所在行号和部分上下文，点击或回车会跳转到编辑器中的对应位置。',
          '当前版本仅提供查找功能，不包含自动批量替换；如需替换内容，建议配合搜索逐个跳转后手动修改。'
        ]
      }
    ]
  },
  {
    id: 'features',
    title: '特有功能',
    items: [
      {
        id: 'game-directory',
        title: '游戏目录设置',
        summary: '可以将游戏本体目录配置到工具中，用于浏览和检索原版文件。',
        details: [
          '在“设置”页面中配置 Hearts of Iron IV 的安装目录，验证通过后会作为游戏目录保存。',
          '右侧“游戏目录”面板会以单独的树形视图展示原版文件，与项目文件树完全分离，互不影响。',
          '从游戏目录打开的文件默认是只读的，用于查阅原版实现，避免误改动游戏安装内容。',
          '可以在游戏目录范围内使用搜索功能，快速定位到某个关键词或脚本片段。',
          '如果未配置或目录失效，游戏目录面板会显示提示信息，提醒前往设置页面修正路径。'
        ]
      },
      {
        id: 'launch-mode',
        title: '启动程序选择',
        summary: '支持在 Steam 启动和直接启动之间切换，以适配不同的游戏安装方式。',
        details: [
          '在“设置”页面的“游戏启动设置”中，可以选择使用 Steam 版本启动或使用学习版启动。',
          '选择学习版时，可以在同一位置选择使用哪个可执行程序作为启动入口，例如启动器或游戏本体。',
          '一键启动功能会根据这里的配置生成合适的启动方式：要么通过平台协议唤起游戏，要么直接运行本地可执行文件。',
        ]
      },
      {
        id: 'dependencies',
        title: '依赖项',
        summary: '在一个项目中管理其他 Mod 或原版资源作为依赖，为自动补全和联动功能提供数据来源。',
        details: [
          '依赖项列表可通过编辑器工具栏中的“依赖项管理”按钮打开，集中管理当前项目需要引用的其他 Mod。',
          '可以向列表中添加新的依赖项目、启用或禁用某个依赖，必要时也可以从列表中移除。',
          '对已添加的依赖可以执行索引操作，从中提取国家理念和国家标签等信息，用于后续的自动补全。',
          '依赖配置会自动写入项目配置文件，下次打开同一项目时会自动恢复，无需重新手动添加。',
          '在右侧“项目信息”面板中，也可以查看当前项目已经配置的依赖项概览。'
        ]
      },
      {
        id: 'one-click-launch',
        title: '一键启动',
        summary: '从编辑器内部直接启动游戏并加载当前项目，省去在启动器里反复勾选 Mod 的步骤。',
        details: [
          '在编辑器顶部工具栏中提供了一键启动按钮，会根据当前项目和设置页面中的启动方式配置来启动游戏。',
        ]
      },
      {
        id: 'hoics-project',
        title: 'HOI4CS 项目',
        summary: 'HOI4 Code Studio 使用带有额外元数据的项目结构，方便工具识别和管理。',
        details: [
          '通过首页的“创建新项目”向导，可以新建一个标准化的 Mod 项目，包括基础目录结构和描述信息。',
          '创建流程会根据填写的信息生成版本号和可选的替换路径配置，并写入项目描述文件。',
          '打开已有文件夹时，后端会检查其中是否包含项目标识文件或 Mod 描述文件，以判断该目录是否是可直接加载的项目。',
          '如果选择的是普通文件夹，工具会提示是否将其初始化为 HOI4 项目，并在确认后自动补全必要的元数据。',
          '在编辑器右侧“项目信息”面板中，可以查看当前项目的名称、版本、创建时间、替换路径和项目路径等信息。'
        ]
      },
      {
        id: 'previews',
        title: '国策/事件/dds/tga 预览与编辑',
        summary: '内置多种可视化预览工具，支持国策树的可视化编辑、事件链查看以及图片资源预览。',
        details: [
          '当当前文件是事件脚本时，可以使用编辑窗格顶部的“预览”按钮，打开事件关系图预览。',
          '事件关系图会以节点和连线的方式展示事件之间的触发与跳转关系，支持缩放、拖拽和平移视图。',
          '当当前文件是国策脚本时，可以使用对应的“预览国策树”按钮，打开国策树视图。',
          '国策树视图支持可视化编辑：可以直接拖拽节点调整位置，右键节点或空白处进行编辑和新建操作。',
          '支持创建新国策：在空白处右键选择“新建国策”，填写 ID、坐标、花费和前置条件即可自动生成代码。',
          '支持搜索定位：输入国策 ID 关键词，视图会自动高亮匹配节点并居中显示。',
          '对于图片资源，包括常见格式以及游戏中使用的 dds/tga 文件，编辑器会在单独的预览界面中以图片形式展示内容。'
        ]
      },
      {
        id: 'project-management',
        title: '项目管理',
        summary: '除了基础编辑功能外，工具还提供项目最近记录、布局偏好和打包导出等管理能力。',
        details: [
          '首页的“最近项目”入口会展示历史打开过的项目列表，并支持多种布局方式显示。',
          '在设置页面中，可以调整最近项目的展示布局，例如多列网格、单列列表或类似瀑布流的布局。',
          '编辑器顶部工具栏提供“一键打包”入口，可以将当前项目打包为压缩文件，用于发布或分享。',
          '项目依赖项、配置文件保存位置以及是否自动检查更新等偏好，都可以在设置页面中统一管理。',
          '项目的详细元数据（如路径、依赖项和替换路径等）可以在右侧“项目信息”面板中查看，便于调试和归档。'
        ]
      },
      {
        id: 'ai-assistant',
        title: 'AI 助手',
        summary: '内置智能助手，提供代码编写、规划和问答支持，帮助更高效地开发 Mod。',
        details: [
          '在右侧面板点击 "AI" 标签页即可进入 AI 助手界面。',
          '支持三种模式：Plan（规划模式）、Code（代码模式）和 Ask（问答模式），可根据需求切换。',
          'Plan 模式：适合进行任务规划和复杂逻辑拆解，AI 会优先思考步骤。',
          'Code 模式：专注于代码生成和修改，生成的代码可以直接应用到编辑器中。',
          'Ask 模式：通用问答，适合咨询 HOI4 机制或脚本语法问题。',
          '支持配置 OpenAI 兼容的 API Key 和 Base URL，可连接自定义模型服务。',
          '支持查看 AI 的推理过程（Reasoning Chain），便于理解 AI 的思考逻辑。',
          '提供历史记录功能，可以回顾和恢复之前的对话会话。'
        ]
      },
      {
        id: 'code-templates',
        title: '代码模板',
        summary: '为常见的 HOI4 配置提供预设模板，可以在合适的文件中一键插入脚本骨架。',
        details: [
          '在编辑器内容区域右键，在“插入模板”二级菜单中可以选择不同的模板类型。',
          '当正在编辑国策相关脚本时，会提供插入国策模板的选项，用于快速建立一个完整的国策结构。',
          '当正在编辑国家初始历史相关脚本时，会提供插入国家标签初始状态模板的选项。',
          '当正在编辑权力平衡相关脚本时，会提供插入权力平衡模板的选项，帮助快速搭建左右双方和数值配置。',
          '模板会在当前光标位置插入示例结构，通常需要根据自己 Mod 的设计修改名称、数值和条件。'
        ]
      }
    ]
  }
]
